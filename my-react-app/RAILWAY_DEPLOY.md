# ğŸš‚ Railway å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## 5 åˆ†é’Ÿéƒ¨ç½²åç«¯

### æ­¥éª¤ 1ï¼šæ¨é€ä»£ç åˆ° GitHub

ç¡®ä¿ä½ çš„æœ€æ–°ä»£ç å·²ç»æ¨é€åˆ° GitHubï¼š

```bash
git add .
git commit -m "Add backend server for Baidu AI OCR"
git push
```

### æ­¥éª¤ 2ï¼šåœ¨ Railway åˆ›å»ºé¡¹ç›®

1. è®¿é—® [railway.app](https://railway.app/)
2. ç‚¹å‡» "Login" â†’ ä½¿ç”¨ GitHub ç™»å½•
3. ç‚¹å‡» "New Project"
4. é€‰æ‹© "Deploy from GitHub repo"
5. é€‰æ‹©ä½ çš„ä»“åº“ï¼š`learn-react/my-react-app`
6. Railway ä¼šè‡ªåŠ¨å¼€å§‹éƒ¨ç½²

### æ­¥éª¤ 3ï¼šé…ç½®ç¯å¢ƒå˜é‡

éƒ¨ç½²å®Œæˆåï¼š

1. ç‚¹å‡»ä½ çš„æœåŠ¡ï¼ˆserviceï¼‰
2. ç‚¹å‡» "Variables" æ ‡ç­¾
3. ç‚¹å‡» "New Variable"ï¼Œä¾æ¬¡æ·»åŠ ï¼š

```
BAIDU_API_KEY
ä½ çš„ç™¾åº¦_API_Key

BAIDU_SECRET_KEY
ä½ çš„ç™¾åº¦_Secret_Key

PORT
3001
```

4. ç‚¹å‡» "Deploy" æŒ‰é’®é‡æ–°éƒ¨ç½²

### æ­¥éª¤ 4ï¼šè·å–åç«¯ URL

1. åœ¨ Railway é¡¹ç›®ä¸­ç‚¹å‡» "Settings"
2. æ‰¾åˆ° "Domains" éƒ¨åˆ†
3. ç‚¹å‡» "Generate Domain"
4. ä¼šç”Ÿæˆä¸€ä¸ªç±»ä¼¼è¿™æ ·çš„ URLï¼š
   ```
   https://your-project-production.up.railway.app
   ```
5. **å¤åˆ¶è¿™ä¸ª URLï¼**

### æ­¥éª¤ 5ï¼šæµ‹è¯•åç«¯

åœ¨æµè§ˆå™¨è®¿é—®ï¼š
```
https://your-project-production.up.railway.app/health
```

åº”è¯¥çœ‹åˆ°ï¼š
```json
{"status":"ok","message":"Backend server is running"}
```

âœ… å¦‚æœçœ‹åˆ°è¿™ä¸ªï¼Œåç«¯éƒ¨ç½²æˆåŠŸï¼

---

## é…ç½® Vercel å‰ç«¯

### 1. ç™»å½• Vercel

è®¿é—® [vercel.com](https://vercel.com/)ï¼Œæ‰¾åˆ°ä½ çš„é¡¹ç›®

### 2. æ·»åŠ ç¯å¢ƒå˜é‡

1. è¿›å…¥ä½ çš„é¡¹ç›®
2. ç‚¹å‡» "Settings"
3. ç‚¹å‡» "Environment Variables"
4. æ·»åŠ ä¸¤ä¸ªå˜é‡ï¼š

**å˜é‡ 1ï¼š**
```
Name: VITE_BACKEND_URL
Value: https://your-project-production.up.railway.app
```
ï¼ˆæ³¨æ„ï¼šæ›¿æ¢æˆä½ çš„ Railway URLï¼‰

**å˜é‡ 2ï¼š**
```
Name: VITE_USE_MOCK_DATA
Value: false
```

### 3. é‡æ–°éƒ¨ç½²

æœ‰ä¸¤ç§æ–¹å¼ï¼š

**æ–¹å¼ 1ï¼šåœ¨ Vercel ç•Œé¢**
1. ç‚¹å‡» "Deployments"
2. æ‰¾åˆ°æœ€æ–°çš„éƒ¨ç½²
3. ç‚¹å‡»å³ä¾§ "..." èœå•
4. é€‰æ‹© "Redeploy"

**æ–¹å¼ 2ï¼šæ¨é€ä»£ç **
```bash
git commit --allow-empty -m "Trigger Vercel redeploy"
git push
```

---

## ğŸ¯ å®Œæˆï¼æµ‹è¯•åŠŸèƒ½

1. è®¿é—®ä½ çš„ Vercel ç½‘ç«™
2. è¿›å…¥è½¦ç‰Œè¯†åˆ«é¡µé¢ï¼ˆ`/carwash`ï¼‰
3. ä¸Šä¼ ä¸€å¼ è½¦ç‰Œå›¾ç‰‡æˆ–æ‹ç…§
4. ç­‰å¾…å‡ ç§’
5. åº”è¯¥èƒ½çœ‹åˆ°çœŸå®çš„ AI è¯†åˆ«ç»“æœï¼

---

## â“ å¸¸è§é—®é¢˜

### Q: Railway è¯´æ‰¾ä¸åˆ°å¯åŠ¨å‘½ä»¤

**è§£å†³æ–¹æ¡ˆï¼š**
1. åœ¨ Railway é¡¹ç›®ä¸­ç‚¹å‡» "Settings"
2. æ‰¾åˆ° "Deploy" éƒ¨åˆ†
3. è®¾ç½®ï¼š
   - **Root Directory**: `server`
   - **Start Command**: `npm start`

### Q: åç«¯è¿”å› 500 é”™è¯¯

**æ£€æŸ¥ï¼š**
1. Railway â†’ Deployments â†’ æŸ¥çœ‹æ—¥å¿—
2. ç¡®è®¤ç¯å¢ƒå˜é‡éƒ½è®¾ç½®äº†
3. æ£€æŸ¥ API Key æ˜¯å¦æ­£ç¡®

### Q: å‰ç«¯æ— æ³•è¿æ¥åç«¯

**æ£€æŸ¥ï¼š**
1. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰ CORS é”™è¯¯
2. Vercel ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®è®¾ç½®
3. Railway URL æ˜¯å¦æ­£ç¡®ï¼ˆä¸è¦æœ‰å¤šä½™çš„æ–œæ ï¼‰

### Q: Railway å…è´¹é¢åº¦å¤Ÿç”¨å—ï¼Ÿ

**ç­”æ¡ˆï¼š**
- Railway æ¯æœˆæä¾› $5 å…è´¹é¢åº¦
- çº¦ç­‰äº 500 å°æ—¶è¿è¡Œæ—¶é—´
- å¯¹äºä¸ªäººé¡¹ç›®å®Œå…¨å¤Ÿç”¨
- å¯ä»¥è®¾ç½®ä½¿ç”¨é™é¢é˜²æ­¢è¶…æ”¯

---

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### æŸ¥çœ‹ Railway æ—¥å¿—

1. Railway é¡¹ç›® â†’ Deployments
2. ç‚¹å‡»æœ€æ–°çš„éƒ¨ç½²
3. æŸ¥çœ‹å®æ—¶æ—¥å¿—

### æŸ¥çœ‹ API ä½¿ç”¨æƒ…å†µ

è®¿é—® [ç™¾åº¦æ™ºèƒ½äº‘æ§åˆ¶å°](https://console.bce.baidu.com/ai/)
- æŸ¥çœ‹ API è°ƒç”¨æ¬¡æ•°
- ç›‘æ§é…é¢ä½¿ç”¨

---

## ğŸ”„ æ›´æ–°éƒ¨ç½²

å½“ä½ ä¿®æ”¹åç«¯ä»£ç åï¼š

```bash
git add server/
git commit -m "Update backend"
git push
```

Railway ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶é‡æ–°éƒ¨ç½²ï¼

---

## ğŸ’¡ æç¤º

- Railway éƒ¨ç½²é€šå¸¸éœ€è¦ 2-3 åˆ†é’Ÿ
- ç¬¬ä¸€æ¬¡å†·å¯åŠ¨å¯èƒ½éœ€è¦ 10-15 ç§’
- å¯ä»¥åœ¨ Railway è®¾ç½®ä¸­é…ç½®è‡ªå®šä¹‰åŸŸå
- å»ºè®®å¯ç”¨ Railway çš„é€šçŸ¥åŠŸèƒ½ï¼Œéƒ¨ç½²å¤±è´¥æ—¶ä¼šæ”¶åˆ°é‚®ä»¶

---

## ğŸ‰ äº«å—çœŸå®çš„ AI è½¦ç‰Œè¯†åˆ«ï¼

ç°åœ¨ä½ çš„åº”ç”¨å·²ç»å®Œå…¨éƒ¨ç½²ï¼Œå¯ä»¥ä½¿ç”¨çœŸå®çš„ç™¾åº¦ AI è¿›è¡Œè½¦ç‰Œè¯†åˆ«äº†ï¼

