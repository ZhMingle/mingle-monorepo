<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>é¡¶éƒ¨é«˜åº¦æµ‹è¯•</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background: #f5f5f5;
      }

      .info-panel {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: #333;
        color: white;
        padding: 10px;
        font-size: 12px;
        z-index: 9999;
        max-height: 200px;
        overflow-y: auto;
      }

      .info-item {
        margin: 5px 0;
        display: flex;
        justify-content: space-between;
      }

      .info-label {
        font-weight: bold;
        color: #4caf50;
      }

      .container {
        background: white;
        margin: 20px;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .bottom-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: #667eea;
        color: white;
        padding: 15px;
        text-align: center;
        font-weight: bold;
      }

      .content-area {
        min-height: 150vh;
        background: linear-gradient(to bottom, #fff, #f0f0f0);
        padding: 20px;
        margin-top: 220px; /* ä¸ºä¿¡æ¯é¢æ¿ç•™å‡ºç©ºé—´ */
        margin-bottom: 80px; /* ä¸ºåº•éƒ¨å¯¼èˆªç•™å‡ºç©ºé—´ */
      }

      .highlight {
        background: #ffeb3b;
        padding: 2px 5px;
        border-radius: 3px;
        color: #333;
        font-weight: bold;
      }

      button {
        background: #4caf50;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        margin: 5px;
        font-size: 14px;
      }

      button:hover {
        background: #45a049;
      }
    </style>
  </head>
  <body>
    <div class="info-panel" id="infoPanel">
      <div class="info-item">
        <span class="info-label">ğŸ“± è§†å£ä¿¡æ¯</span>
        <button onclick="updateInfo()">ğŸ”„ åˆ·æ–°</button>
      </div>
      <div id="measurements"></div>
    </div>

    <div class="content-area">
      <div class="container">
        <h1>ğŸ” é¡¶éƒ¨é«˜åº¦æµ‹è¯•å·¥å…·</h1>
        <p>è¿™ä¸ªé¡µé¢å¯ä»¥å¸®åŠ©ä½ æ£€æµ‹ç§»åŠ¨è®¾å¤‡çš„å„ç§é«˜åº¦ä¿¡æ¯</p>

        <h2>ğŸ“ æµ‹è¯•è¯´æ˜</h2>
        <ul>
          <li>âœ… é¡¶éƒ¨é»‘è‰²é¢æ¿æ˜¾ç¤ºå®æ—¶çš„è§†å£ä¿¡æ¯</li>
          <li>âœ… é¡µé¢å¯ä»¥ä¸Šä¸‹æ»šåŠ¨ï¼Œæµ‹è¯•æ»šåŠ¨æ•ˆæœ</li>
          <li>âœ… åº•éƒ¨æœ‰å›ºå®šå¯¼èˆªæ ï¼Œæ¨¡æ‹Ÿå®é™…åº”ç”¨</li>
          <li>âœ… æ—‹è½¬å±å¹•æˆ–æ”¹å˜çª—å£å¤§å°ä¼šè‡ªåŠ¨æ›´æ–°ä¿¡æ¯</li>
        </ul>

        <h2>ğŸ¯ å…³é”®ä¿¡æ¯</h2>
        <p><strong>window.innerHeight:</strong> æµè§ˆå™¨çª—å£çš„å¯è§†åŒºåŸŸé«˜åº¦ï¼ˆä¸åŒ…æ‹¬æµè§ˆå™¨UIï¼‰</p>
        <p><strong>document.documentElement.clientHeight:</strong> HTMLå…ƒç´ çš„å¯è§†åŒºåŸŸé«˜åº¦</p>
        <p><strong>screen.height:</strong> è®¾å¤‡å±å¹•çš„æ€»é«˜åº¦</p>
        <p><strong>getBoundingClientRect().top:</strong> å…ƒç´ ç›¸å¯¹äºè§†å£é¡¶éƒ¨çš„è·ç¦»</p>

        <div style="margin-top: 30px; padding: 20px; background: #e3f2fd; border-radius: 8px">
          <h3>ğŸ’¡ ä½¿ç”¨å»ºè®®</h3>
          <p>
            åœ¨ä½ çš„ React åº”ç”¨ä¸­ï¼Œä½¿ç”¨
            <code class="highlight">getBoundingClientRect().top</code>
            å¯ä»¥å‡†ç¡®è·å–å…ƒç´ è·ç¦»è§†å£é¡¶éƒ¨çš„è·ç¦»ï¼Œè¿™æ ·å°±èƒ½åŠ¨æ€è®¡ç®—å‡ºçŠ¶æ€æ çš„é«˜åº¦äº†ã€‚
          </p>
        </div>
      </div>

      <div class="container">
        <h2>ğŸ“Š å®æ—¶ç›‘æµ‹</h2>
        <p>å‘ä¸‹æ»šåŠ¨é¡µé¢ï¼Œè§‚å¯Ÿä¿¡æ¯é¢æ¿çš„æ•°å€¼å˜åŒ–...</p>
        <div
          style="
            height: 500px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
          "
        >
          æ»šåŠ¨æµ‹è¯•åŒºåŸŸ
        </div>
      </div>

      <div class="container">
        <h2>âœ… å®Œæˆ</h2>
        <p>æµ‹è¯•å®Œæˆåï¼Œä½ å¯ä»¥åœ¨æ§åˆ¶å°æŸ¥çœ‹è¯¦ç»†çš„æ—¥å¿—ä¿¡æ¯ã€‚</p>
      </div>
    </div>

    <div class="bottom-nav">åº•éƒ¨å›ºå®šå¯¼èˆªæ  - é«˜åº¦: <span id="bottomHeight">0</span>px</div>

    <script>
      function updateInfo() {
        const measurements = {
          'è§†å£å®½åº¦ (innerWidth)': window.innerWidth,
          'è§†å£é«˜åº¦ (innerHeight)': window.innerHeight,
          'HTMLé«˜åº¦ (clientHeight)': document.documentElement.clientHeight,
          'å±å¹•å®½åº¦ (screen.width)': screen.width,
          'å±å¹•é«˜åº¦ (screen.height)': screen.height,
          'åƒç´ æ¯” (devicePixelRatio)': window.devicePixelRatio,
          'æ»šåŠ¨ä½ç½® (scrollY)': window.scrollY,
          'æ–‡æ¡£é«˜åº¦ (body.scrollHeight)': document.body.scrollHeight,
        };

        // è·å–å®¹å™¨å…ƒç´ çš„ä½ç½®ä¿¡æ¯
        const contentArea = document.querySelector('.content-area');
        if (contentArea) {
          const rect = contentArea.getBoundingClientRect();
          measurements['å†…å®¹åŒºé¡¶éƒ¨è·ç¦»è§†å£ (top)'] = Math.round(rect.top);
          measurements['å†…å®¹åŒºè·ç¦»æ–‡æ¡£é¡¶éƒ¨'] = Math.round(contentArea.offsetTop);
        }

        // è·å–åº•éƒ¨å¯¼èˆªæ é«˜åº¦
        const bottomNav = document.querySelector('.bottom-nav');
        if (bottomNav) {
          measurements['åº•éƒ¨å¯¼èˆªæ é«˜åº¦'] = bottomNav.offsetHeight;
          document.getElementById('bottomHeight').textContent = bottomNav.offsetHeight;
        }

        // è·å–å®‰å…¨åŒºåŸŸä¿¡æ¯ï¼ˆiOSï¼‰
        const safeAreaTop = getComputedStyle(document.documentElement).getPropertyValue('--safe-area-inset-top');
        const safeAreaBottom = getComputedStyle(document.documentElement).getPropertyValue('--safe-area-inset-bottom');
        if (safeAreaTop) {
          measurements['å®‰å…¨åŒºåŸŸé¡¶éƒ¨ (iOS)'] = safeAreaTop;
        }
        if (safeAreaBottom) {
          measurements['å®‰å…¨åŒºåŸŸåº•éƒ¨ (iOS)'] = safeAreaBottom;
        }

        // æ˜¾ç¤ºæµ‹é‡ç»“æœ
        const html = Object.entries(measurements)
          .map(
            ([label, value]) => `
          <div class="info-item">
            <span class="info-label">${label}:</span>
            <span class="highlight">${value}</span>
          </div>
        `
          )
          .join('');

        document.getElementById('measurements').innerHTML = html;

        console.log('ğŸ“ è§†å£ä¿¡æ¯:', measurements);
      }

      // åˆå§‹åŒ–
      updateInfo();

      // ç›‘å¬å„ç§äº‹ä»¶
      window.addEventListener('resize', updateInfo);
      window.addEventListener('orientationchange', updateInfo);
      window.addEventListener('scroll', updateInfo);

      // å®šæœŸæ›´æ–°
      setInterval(updateInfo, 1000);

      console.log('ğŸ‰ æµ‹è¯•å·¥å…·å·²åŠ è½½ï¼æ‰“å¼€æ§åˆ¶å°æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚');
    </script>
  </body>
</html>
