# 📱 手机调试指南

## 🚀 快速开始

### 1. 开发服务器已启动
- **本地访问**: http://localhost:5173
- **手机访问**: http://192.168.6.183:5173
- **状态**: ✅ 运行中

### 2. 手机连接步骤

#### 方法一：直接访问（推荐）
1. 确保手机和电脑连接在同一个WiFi网络
2. 在手机浏览器中访问：`http://192.168.6.183:5173`
3. 如果无法访问，尝试：`http://192.168.6.183:5173`

#### 方法二：使用二维码
1. 在电脑浏览器中访问：http://localhost:5173
2. 使用手机扫描页面上的二维码（如果Vite支持）

### 3. 调试工具设置

#### Chrome DevTools 远程调试
1. **在手机上**：
   - 打开Chrome浏览器
   - 访问 `http://192.168.6.183:5173`
   - 打开开发者工具（如果支持）

2. **在电脑上**：
   - 打开Chrome浏览器
   - 访问 `chrome://inspect`
   - 找到你的设备并点击"Inspect"

#### Safari Web Inspector (iOS)
1. **在iPhone上**：
   - 设置 → Safari → 高级 → Web检查器（开启）
   - 访问 `http://192.168.6.183:5173`

2. **在Mac上**：
   - 打开Safari
   - 开发菜单 → [你的设备] → [页面名称]

### 4. 调试顶部安全区域

#### 查看控制台输出
在手机浏览器中打开开发者工具，查看以下调试信息：
```javascript
🔧 顶部安全区域调整: {
  safeAreaTop: 44,
  statusBarHeight: 44,
  topOffset: 0,
  isIOS: true,
  isAndroid: false,
  isHighDPI: true,
  calculatedHeight: 44,
  androidInfo: null
}
```

#### 测试页面
访问测试页面：`http://192.168.6.183:5173/tests/test-top-safe-area.html`

### 5. 常见问题解决

#### 无法访问开发服务器
1. **检查防火墙**：
   ```bash
   # 临时关闭防火墙（macOS）
   sudo pfctl -d
   ```

2. **检查网络连接**：
   - 确保手机和电脑在同一WiFi
   - 尝试ping测试：`ping 192.168.6.183`

3. **尝试其他端口**：
   ```bash
   npm run dev -- --port 3000 --host
   ```

#### 调试信息不显示
1. **检查控制台**：确保浏览器控制台已打开
2. **检查网络**：确保手机能正常访问开发服务器
3. **清除缓存**：清除浏览器缓存后重新访问

### 6. 移动端调试技巧

#### 使用Chrome DevTools
1. **模拟移动设备**：
   - 按F12打开开发者工具
   - 点击设备模拟图标
   - 选择iPhone或Android设备

2. **查看安全区域**：
   - 在Elements面板中查看CSS
   - 检查`env(safe-area-inset-top)`的值

#### 使用真机调试
1. **USB调试**（Android）：
   - 开启开发者选项
   - 开启USB调试
   - 连接电脑进行调试

2. **Safari调试**（iOS）：
   - 使用Lightning/USB-C线连接
   - 在Mac上使用Safari Web Inspector

### 7. 测试检查清单

- [ ] 手机能访问开发服务器
- [ ] 控制台显示调试信息
- [ ] 拍照和上传按钮完全可见
- [ ] 顶部安全区域正确计算
- [ ] 不同设备方向测试正常
- [ ] 不同屏幕尺寸测试正常

### 8. 有用的调试命令

```bash
# 查看开发服务器状态
lsof -i :5173

# 重启开发服务器
npm run dev -- --host

# 查看网络接口
ifconfig | grep "inet "

# 测试网络连接
ping 192.168.6.183
```

## 🎯 下一步

1. 在手机上访问应用
2. 检查按钮是否被裁切
3. 查看控制台调试信息
4. 根据实际情况调整安全区域设置

---

**当前服务器信息**：
- IP地址：192.168.6.183
- 端口：5173
- 访问地址：http://192.168.6.183:5173
